{% extends "layout_bsa.html" %}

{% block page_title %}
  What is your date of birth? | {{ serviceName }} | NHSBSA
{% endblock %}

{% block content %}
{% set errMessage = "" %}
{% set errMode = false %}
{% for err in data['errors'] %}
  {% if err == "dob" %}
    {% set errMode = true %}
    {% set errMessage = "Enter a valid date" %}
  {% endif %}
{% endfor %}
<main id="content" role="main">
  {% include "../includes/phase_banner_beta.html" %}

  <a href="javascript:history.go(-1)" class="link-back">Back</a>

    <div class="grid-row">
      <div class="column-two-thirds">
        {% if errMode %}
        <div class="error-summary" role="group" aria-labelledby="error-summary-heading-example-1" tabindex="-1">
          <h1 class="heading-medium error-summary-heading" id="error-summary-heading-example-1">
            There is a problem
          </h1>
          <ul class="error-summary-list">
            <li><a href="#form">{{errMessage}}</a></li>
          </ul>
        </div>
        {% endif %}

          <h1 class="page-header--lede heading-large">What is your date of birth?</h1>

        <form action="/dob" class="form" method="post">

          <fieldset class="form-group {% if errMode %}error{% endif %}" id="form">
            <legend class="visuallyhidden">What is your date of birth?</legend>
            {% if errMessage > "" %}
              <span class="error-message">{{errMessage}}</span>
              {% endif %}
            <p class="form-hint">For example, 5th June 1980 is 5-6-1980</p>

            <div class="form-date">
              <div class="form-group form-group-day">
                <label for="dob-day">Day</label> <input class="form-control {% if errMode %}form-control-error{% endif %}" id="dob-day" max="31" min="0" name="dob-day" pattern="[0-9]*" type="number">
              </div>

              <div class="form-group form-group-month">
                <label for="dob-month">Month</label> <input class="form-control {% if errMode %}form-control-error{% endif %}" id="dob-month" max="12" min="0" name="dob-month" pattern="[0-9]*" type="number">
              </div>

              <div class="form-group form-group-year">
                <label for="dob-year">Year</label> <input class="form-control {% if errMode %}form-control-error{% endif %}" id="dob-year" max="2014" min="0" name="dob-year" pattern="[0-9]*" type="number">
              </div>

            </div>
          </fieldset>

          <div class="form-group">
            <input class="button" type="submit" value="Continue">
          </div>

        </form>

      </div>
    </div>

</main>

{% endblock %}
